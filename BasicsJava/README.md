# What happens at compile time?

At compile time, java file is compiled by java compiler and converts the java code or source code into bytecode(.class file).

```java

// Test.java

class Test 
{
  public static void main(String args[]) {
    System.out.println("hello java");
  }
}

```

At the run time following steps are performed:

- **Class File**
- **Classloader**
- **Bytecode verifier**
- **Interpreter**
- **Runtime**
- **Hardware**

```
    --------------------------
    | Source Code (.java file)| -------▶------◢
    ---------------------------               |
                                              |
                                              ▼
                                ------------------------------
                                |     Java Compiler (javac)  |
                                ------------------------------
                                    |
                                    |
                           ---------------------------------------------
                           |     Class File(.class file - Bytecode)    |
                           ---------------------------------------------
                                    |
                --------------------|------------------------------------------------
                |                   ▼                                               |
                |          ----------------------                                   |
                |          |     Classloader    |                                   |                                   
                |          ----------------------                                   |
                |                   |                                     -----------------------
                |                   |                                     |Java Virtual Machine |
                |                   ▼                                     -----------------------
                |          -----------------------------                            |
                |          |     Bytecode verifier     |                            |
                |          -----------------------------                            |
                |                   |                                               |
                |                   |                                               |
                |                   ▼                                               |
                |          ----------------------------------                       |      
                |          |     Interpreter (JIT Compiler) |                       |    
                |          ----------------------------------                       |    
                |                   |                                               |
                --------------------|------------------------------------------------
                                    ▼
                           --------------------
                           |     Runtime      |
                           --------------------
                                    |
                                    |
                                    ▼
                           --------------------
                           |     Hardware     |
                           --------------------


```


**Classloader**: classloader is the subsystem of jvm that is used to load the class file.

**Bytecode Verifier**: checks the code fragments for illegal code that can violate access right to objects.

**Interpreter**: read bytecode stream then execute the instruction.


### Bytecode in Java

Bytecode in java is just a symbol and each symbol taking one byte in memory that is the reason is called bytecode. Bytecode(.class file) is generated by the java compiler after compiled the java source code(java file). After bytecode is generated, these bytecode are loaded into java virtual machine(JVM) and then interpreted and then execute.

Java programming language is WORA(Write Once Run Anywhere) programming language because of this bytecode. Java bytecode is portable. Java bytecode is platform independent.

```java
                ---------------------------    ------------     -------------------------
                | java file(source file)  | →  | compiler |   → | .class file(bytecode) |
                ---------------------------    ------------     -------------------------
```

**Just-In-Time Compiler**: This is the final stage encountered by the java program, and its job is to convert the loaded bytecode into machine code. When using a JIT compiler, the hardware can execute the native code, as opposed to having the JVM interpret the same sequence of bytecode repeatedly and incurring the penalty of a relatively lengthy translation process. This can lead to performance gains in the execution speed, unless methods are executed less frequently.
